[{"path":"https://laurincurschellas.github.io/NGeoTrack/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 NGeoTrack authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Laurin Curschellas. Author, maintainer.","code":""},{"path":[]},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"harmonizing-norwegian-administrative-identifiers","dir":"","previous_headings":"","what":"Harmonizing Norwegian Administrative Identifiers","title":"Harmonizing Norwegian Administrative Identifiers","text":"Identifiers administrative units can change time. changes occur top-level unit (counties) mergers splits. Inconsistent identifiers can inhibit use simple fixed effects make impossible distinctly identify individuals move. package harmonizes administrative units clusters uniquely tractable across whole period, specified user. assigns new, stable identifiers administrative unit, allows joint harmonizing low- top-level type administrative unit. Important Note: procedure extension , largely based following two repositories. case use functions, make sure cite original authors. ~ Norgeo, NoRwayGeo official changes lists valid location codes published Statistics Norway (SSB)","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Harmonizing Norwegian Administrative Identifiers","text":"Dependencies: dplyr, httr2, igraph","code":"# install.packages(\"devtools\")  # library(devtools) devtools::install_github(\"https://github.com/LaurinCurschellas/NGeoTrack\")"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"gather_change","dir":"","previous_headings":"Description","what":"gather_change()","title":"Harmonizing Norwegian Administrative Identifiers","text":"Calls API Statistics Norway gathers official changes reported selected administrative unit defined period. Syntax: function applies BSU (\"grunnkrets\"), municipalities (\"kommune\") counties (\"fylket\"). current release SSB supports data years 1980-2023 1950-2023 BSU municipalities respectively.","code":"data1 <- gather_change(type = \"grunnkrets\" , from = 1990 , to = 2022)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"status_quo","dir":"","previous_headings":"Description","what":"status_quo()","title":"Harmonizing Norwegian Administrative Identifiers","text":"Calls API gathers valid codes full panel specified period.","code":"data2 <- status_quo(type = \"grunnkrets\" , from = 1990 , to = 2022)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"ete_changes","dir":"","previous_headings":"Description","what":"EtE_changes()","title":"Harmonizing Norwegian Administrative Identifiers","text":"core function: generates tractable clusters, returns data frame acts key assign observations respective cluster. input function datasets generated functions. Joint harmonization BSU Municipality identifiers: changes status quo data sets generated type individually, supplied list EtE_changes() - harmonizing function.","code":"EtE_changes(df_status = data2 , df_change = data1 , from = 1990 , to = 2022, jointly = FALSE) changes_list <- list(changes_bsu, changes_mun) # The order in list is not relevant.  status_list <- list(status_bsu, status_mun)  EtE_changes(df_status = status_list , df_change = changes_list , from = 1990 , to = 2022, jointly = TRUE)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"check_overlap","dir":"","previous_headings":"Description","what":"check_overlap()","title":"Harmonizing Norwegian Administrative Identifiers","text":"function analyses generated key returns information BSU-clusters overlap borders municipality clusters.","code":"overlap <- check_overlap(df_key) # Prints an overview to the console, summarising the detailed output # Vector of affected Grunnkrets Clusters head(overlap$candidates) [1] 100124 100125 102230 100016 100373 # Dataframe of municipality details head(overlap$details) # A tibble: 5 × 5   Gcluster_id Ccluster_id_1 Ccluster_id_2 Cname_1     Cname_2                   <int>         <int>         <int> <chr>       <chr>             1      100124           528           529 Østre Toten Vestre Toten      2      100125           528           529 Østre Toten Vestre Toten      3      102230          1444          1449 Hornindal   Stryn             4      100016          1911        500023 Kvæfjord    Sortland - Suortá 5      100373           704        500016 Tønsberg    Sandefjord"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"background-administrative-units-in-norway","dir":"","previous_headings":"","what":"Background Administrative Units in Norway","title":"Harmonizing Norwegian Administrative Identifiers","text":"Basic Statistical Units (BSU/Grunnkrets) Basic Statistical Units (BSU), also referred Grunnkrets, granular administrative units Norwegian administration. January 2022, total 14’100 units. units largely used administrative purposes municipality national administrators median population size 250 inhabitants 2018. Municipalities (Kommune) municipalities higher level administrative unit administration. Municipalities provide public infrastructure independently serve political unit. January 2022, total 356 municipalities Norway. median population size municipality lies 4’669 inhabitants 2018. County (Fylke) counties highest-order administrative unit Norway. serve political unit provide certain public administrative service tasks. Norway comprised total 15 counties.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates Key of Harmonized Adm. Units — EtE_changes","title":"Creates Key of Harmonized Adm. Units — EtE_changes","text":"Takes data frames created status_quo() gather_change(), returns key maps identifier traceable cluster. Clusters defined least common unit can uniquely distinguished given point time adm. units. Keys can generated type adm. unit independently jointly. use-case joint harmonization can need include fixed-effects top-level administrative unit.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates Key of Harmonized Adm. Units — EtE_changes","text":"","code":"EtE_changes(df_status, df_change, from , to , jointly = FALSE)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates Key of Harmonized Adm. Units — EtE_changes","text":"df_status data object: Panel status (object type: data.frame list) df_change data object: Panel changes (object type: data.frame list) integer: Start year panel integer: End year panel jointly Boolean: Request harmonizing types adm. units jointly. Default FALSE. Important Note: jointly == TRUE status change information supplied list. function agnostic ordering elements list.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates Key of Harmonized Adm. Units — EtE_changes","text":"data.frame object 4 7 (joint harmonization) columns. Allows 1:1 mapping active identifiers year cluster. geoID - original numeric identifier name - name adm. unit cluster_id - cluster identifier unit assigned year - year mapping joint harmonization lower level adm. unit mapped corresponding Gcluster_id - -level cluster identifier Ccluster_id - top-level cluster identifier","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Creates Key of Harmonized Adm. Units — EtE_changes","text":"","code":"# Information on status stat_mun <- status_quo(type = \"kommune\", from = 1999, to = 2018) # Information on changes chg_mun <- gather_change(type = \"kommune\", from = 1999, to = 2018) #>  #> Information on Number and Type of Changes in Municipality Codes:  #>  #> There are a total of 85 in the time period: 1999 - 2018  #>  #> These are composed of:  #>  #> \t60 One-to-One Changes:  #> \t25 Mergers  #> \t0 Splits  #> \t0 Split-Mergers #>   #Generate key key_mun <- EtE_changes(df_status = stat_mun, df_change = chg_mun, from = 1999, to = 2018 , jointly = FALSE)   # Joint harmonization # repeat information for BSU: stat_bsu <- status_quo(type = \"grunnkrets\", from = 1999, to = 2018) chg_bsu <- gather_change(type = \"grunnkrets\", from = 1999, to = 2018) #>  #> Information on Number and Type of Changes in Grunnkrets (BSU) Codes:  #>  #> There are a total of 2787 in the time period: 1999 - 2018  #>  #> These are composed of:  #>  #> \t2324 One-to-One Changes:  #> \t7 Mergers  #> \t350 Splits  #> \t53 Split-Mergers #>   #combine in list stat_list <- list(stat_bsu, stat_mun) # function handles the ordering independently chg_list <- list(chg_mun, chg_bsu)  key_joint <- EtE_changes(df_status = stat_list, df_change = chg_list, from = 1999, to = 2018 , jointly = TRUE)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":null,"dir":"Reference","previous_headings":"","what":"Identifies Overlapping Administrative Units — check_overlap","title":"Identifies Overlapping Administrative Units — check_overlap","text":"Identifies reports () lower-level administrative units overlap boundaries top-level administrative units. identification adjustment crucial user interested top-level fixed effects. Otherwise BSU cluster assigned 2 municipalities simoultaniously. function takes jointly estimated key EtE_changes() returns list object.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identifies Overlapping Administrative Units — check_overlap","text":"","code":"check_overlap(df_key)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identifies Overlapping Administrative Units — check_overlap","text":"df_key data.frame: joint data.frame package can processed.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identifies Overlapping Administrative Units — check_overlap","text":"'list' object, four 2 elements candidates, details candidates - vector low-level cluster id overlap details - data frame detailed overview Gcluster_id - low-level cluster id overlaps Ccluster_id_1 - First top-level cluster assigned Ccluster_id_2 - Second top-level cluster assigned Cname_1 - name First top-level cluster Cname_2 - name Second top-level cluster","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identifies Overlapping Administrative Units — check_overlap","text":"","code":"df_key_join <- NGeoTrack::df_key_join expl <- check_overlap(df_key = df_key_join) #> Error in dplyr::group_by(., botID, year): Must group by variables found in `.data`. #> ✖ Column `botID` is not found.  expl$candidates #> Error in eval(expr, envir, enclos): object 'expl' not found # [1] 100124 100125 100016 100373  expl$details #> Error in eval(expr, envir, enclos): object 'expl' not found # Gcluster_id Ccluster_id_1 Ccluster_id_2 Cname_1     Cname_2 #    <int>         <int>         <int> <chr>       <chr> # 100124           528           529  Østre Toten   Vestre Toten # 100125           528           529  Østre Toten   Vestre Toten # 100016        500023          1911  Sortland      Kvæfjord # 100373           704        500016  Tønsberg      Sandefjord"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/df_key_join.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Joint Key 1999-2018 — df_key_join","title":"Example Joint Key 1999-2018 — df_key_join","text":"data set created functions provided package.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/df_key_join.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Joint Key 1999-2018 — df_key_join","text":"","code":"df_key_join"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/df_key_join.html","id":"df-key-join","dir":"Reference","previous_headings":"","what":"df_key_join","title":"Example Joint Key 1999-2018 — df_key_join","text":"data frame 265'326 rows 7 columns: geoID Numeric: BSU Identifier (Harmonized) Gcluster_id Numeric: Harmonized BSU identifier Gname Char: Name BSU-cluster mun_id Numeric: Municipality identifier (Harmonized) Ccluster_id Numeric: Harmonized Municipality identifier Cname Char: Name Municipality-cluster","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/df_key_join.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Joint Key 1999-2018 — df_key_join","text":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Panel of Changes to Administrative Identifiers — gather_change","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"Returns data frame officially reported changes administrative identifiers, type time period selected user. function calls API Statistics Norway (SSB) returns pre-processed information.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"","code":"gather_change(type , from , to )"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"type string: \"kommune\", \"grunnkrets\" \"fylket\" integer: Start year panel integer: End year panel","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"'data.frame' object, five columns , oldName, , newName, year - originating numeric identifier oldName - originating name adm. unit - new numeric identifier newName - new name adm. unit year - year, change enforced (01. January year)","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"","code":"expl <- gather_change(type = \"kommune\", from = 1999, to = 2018) #>  #> Information on Number and Type of Changes in Municipality Codes:  #>  #> There are a total of 85 in the time period: 1999 - 2018  #>  #> These are composed of:  #>  #> \t60 One-to-One Changes:  #> \t25 Mergers  #> \t0 Splits  #> \t0 Split-Mergers #>"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Panel of Valid Administrative Identifiers — status_quo","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"Returns data frame full panel years' valid administrative identifiers chosen unit-type time-period. function calls API Statistics Norway (SSB) returns pre-processed information.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"","code":"status_quo(type , from  , to )"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"type string: \"kommune\", \"grunnkrets\" \"fylket\" integer: Start year panel integer: End year panel","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"'data.frame' object, four columns geoID, name, , geoID - current numeric identifier name - current name adm. unit - startYear validity (always year year) - endYear","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"","code":"expl <- status_quo(type = \"kommune\", from = 1999, to = 2018)"}]
