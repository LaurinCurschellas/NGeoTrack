[{"path":"https://laurincurschellas.github.io/NGeoTrack/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Laurin Curschellas. Author, maintainer.","code":""},{"path":[]},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"harmonize-norwegian-administrative-unit-identifiers-across-time","dir":"","previous_headings":"","what":"Harmonize Norwegian Administrative-Unit Identifiers across time.","title":"Harmonize Norwegian Administrative Unit Identifiers across time","text":"Identifiers administrative units (municipalities BSU) subject change. changes occur top-level mergers splits. Inconsistent identifiers can inhibit use simple fixed effects make impossible distinctly identify movers. package harmonizes administrative units clusters uniquely tractable across whole period, specified user. assigns new, stable identifiers administrative unit, allows joint harmonizing low- top-level type administrative unit. Important Note: procedure extension , largely based following two repositories. case use functions, make sure cite original authors. ~ Norgeo, NoRwayGeo official changes lists valid location codes published Statistics Norway (SSB)","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Harmonize Norwegian Administrative Unit Identifiers across time","text":"Dependencies: dplyr, httr2, igraph application tractable clusters described Appendix","code":"# install.packages(\"devtools\")  # library(devtools) devtools::install_github(\"https://github.com/LaurinCurschellas/NGeoTrack\")"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"gather_change","dir":"","previous_headings":"Description","what":"gather_change()","title":"Harmonize Norwegian Administrative Unit Identifiers across time","text":"Calls API Statistics Norway gathers official changes reported selected administrative unit defined period. Syntax: function applies BSU (\"grunnkrets\") municipalities (\"kommune\"). current release SSB supports data years 1980-2023 1950-2023 BSU municipalities respectively.","code":"data1 <- gather_change(type = \"grunnkrets\" , from = 1990 , to = 2022)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"status_quo","dir":"","previous_headings":"Description","what":"status_quo()","title":"Harmonize Norwegian Administrative Unit Identifiers across time","text":"Calls API gathers valid codes full panel specified time period. #### EtE_changes() core function: generates tractable clusters, provides key assigning allowing assign observations respective cluster. input function datasets generated functions. Joint harmonization BSU Municipality identifiers: changes status quo data sets generated type individually, supplied list EtE_changes() - harmonizing function.","code":"data2 <- status_quo(type = \"grunnkrets\" , from = 1990 , to = 2022) EtE_changes(df_status = data2 , df_change = data1 , from = 1990 , to = 2022, jointly = FALSE) changes_list <- list(changes_bsu, changes_mun) # The order in list is not relevant.  status_list <- list(status_bsu, status_mun)  EtE_changes(df_status = status_list , df_change = changes_list , from = 1990 , to = 2022, jointly = TRUE)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"check_overlap","dir":"","previous_headings":"Description","what":"check_overlap()","title":"Harmonize Norwegian Administrative Unit Identifiers across time","text":"function analyses generated key returns information BSU-clusters overlap borders municipality clusters.","code":"overlap <- check_overlap(df_key) # Prints an overview to the console, summarising the detailed output # Vector of affected Grunnkrets Clusters head(overlap$candidates) [1] 100124 100125 102230 100016 100373 # Dataframe of municipality details head(overlap$details) # A tibble: 5 × 5   Gcluster_id Ccluster_id_1 Ccluster_id_2 Cname_1     Cname_2                   <int>         <int>         <int> <chr>       <chr>             1      100124           528           529 Østre Toten Vestre Toten      2      100125           528           529 Østre Toten Vestre Toten      3      102230          1444          1449 Hornindal   Stryn             4      100016          1911        500023 Kvæfjord    Sortland - Suortá 5      100373           704        500016 Tønsberg    Sandefjord"},{"path":"https://laurincurschellas.github.io/NGeoTrack/index.html","id":"background-administrative-units-in-norway","dir":"","previous_headings":"","what":"Background Administrative Units in Norway","title":"Harmonize Norwegian Administrative Unit Identifiers across time","text":"Basic Statistical Units (BSU/Grunnkrets) Basic Statistical Units (BSU), also referred Grunnkrets, granular administrative units Norwegian administration.  January 2022, total 14’100 units. units largely used administrative purposes municipality national administrators median population size 250 inhabitants 2018. Municipalities (Kommune) municipalities higher level administrative unit administration. Municipalities provide public infrastructure independently serve political unit.  January 2022, total 356 municipalities Norway. median population size municipality lies 4’669 inhabitants 2018. County (Fylke) counties highest-order administrative unit Norway. serve political unit provide certain public administrative service tasks. Norway comprised total 15 counties.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates Key to Harmonized Adm. Units — EtE_changes","title":"Creates Key to Harmonized Adm. Units — EtE_changes","text":"Takes data frames created ?status_quo  ?gather_change, returns key maps identifier traceable cluster. Clusters defined least common unit can uniquely distinguished given point time adm. units. Keys can generated type adm. unit independently jointly. use-case joint harmonization can need include fixed-effects top-level administrative unit.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates Key to Harmonized Adm. Units — EtE_changes","text":"","code":"EtE_changes(df_status = x, df_change = y , from = startYear, to = endYear, jointly = FALSE)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates Key to Harmonized Adm. Units — EtE_changes","text":"df_status data object: Panel status (object type: data.frame list) df_change data object: Panel changes (object type: data.frame list) integer: Start year panel integer: End year panel jointly Boolean: Request harmonizing types adm. units jointly. Default FALSE. Important Note: jointly == TRUE status change information supplied list. function agnostic ordering elements list.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates Key to Harmonized Adm. Units — EtE_changes","text":"'data.frame' object, five columns , oldName, , newName, year geoID - original numeric identifier name - name adm. unit cluster_id - cluster identifier unit assigned year - year mapping joint harmonization lower level adm. unit mapped corresponding Gcluster_id - -level cluster identifier Ccluster_id - top-level cluster identifier","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/EtE_changes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Creates Key to Harmonized Adm. Units — EtE_changes","text":"","code":"# Information on status stat_mun <- status_quo(type = \"kommune\", from = 1999, to = 2018) #> Error in loadNamespace(x): there is no package called ‘data.table’ # Information on changes chg_mun <- gather_change(type = \"kommune\", from = 1999, to = 2018) #> Error in loadNamespace(x): there is no package called ‘data.table’  #Generate key key_mun <- EtE_changes(df_status = stat_mun, df_change = chg_mun, from = 1999, to = 2018 , jointly = FALSE) #> Error in eval(expr, envir, enclos): object 'stat_mun' not found   # Joint harmonization # repeat information for BSU: stat_bsu <- status_quo(type = \"grunnkrets\", from = 1999, to = 2018) #> Error in loadNamespace(x): there is no package called ‘data.table’ chg_bsu <- gather_change(type = \"grunnkrets\", from = 1999, to = 2018) #> Error in loadNamespace(x): there is no package called ‘data.table’  #combine in list stat_list <- list(stat_bsu, stat_mun) # function handles the ordering independently #> Error in eval(expr, envir, enclos): object 'stat_bsu' not found chg_list <- list(chg_mun, chg_bsu) #> Error in eval(expr, envir, enclos): object 'chg_mun' not found  key_joint <- EtE_changes(df_status = stat_list, df_change = chg_list, from = 1999, to = 2018 , jointly = TRUE) #> Error in eval(expr, envir, enclos): object 'stat_list' not found"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":null,"dir":"Reference","previous_headings":"","what":"Identifies Overlapping Administrative Units — check_overlap","title":"Identifies Overlapping Administrative Units — check_overlap","text":"Identifies reports () lower-level administrative units overlap boundaries top-level administrative units. identification adjustment crucial user interested top-level fixed effects. Otherwise BSU cluster assigned 2 municipalities simoultaniously. function takes jointly estimated key EtE_changes() returns list object.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identifies Overlapping Administrative Units — check_overlap","text":"","code":"check_overlap(df_key = key_jointly)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identifies Overlapping Administrative Units — check_overlap","text":"df_key data.frame: joint data.frame package can processed.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identifies Overlapping Administrative Units — check_overlap","text":"'list' object, four 2 elements candidates, details candidates - vector low-level cluster id overlap details - data frame detailed overview Gcluster_id - low-level cluster id overlaps Ccluster_id_1 - First top-level cluster assigned Ccluster_id_2 - Second top-level cluster assigned Cname_1 - name First top-level cluster Cname_2 - name Second top-level cluster","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/check_overlap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identifies Overlapping Administrative Units — check_overlap","text":"","code":"expl <- check_overlap(df_key = key_joint) #> Error in eval(expr, envir, enclos): object 'key_joint' not found  expl$candidates #> Error in eval(expr, envir, enclos): object 'expl' not found # [1] 100124 100125 100016 100373  expl$details #> Error in eval(expr, envir, enclos): object 'expl' not found # Gcluster_id Ccluster_id_1 Ccluster_id_2 Cname_1     Cname_2 #    <int>         <int>         <int> <chr>       <chr> # 100124           528           529  Østre Toten   Vestre Toten # 100125           528           529  Østre Toten   Vestre Toten # 100016        500023          1911  Sortland      Kvæfjord # 100373           704        500016  Tønsberg      Sandefjord"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Panel of Changes to Administrative Identifiers — gather_change","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"Returns data frame officially reported changes administrative identifiers, type time period selected user. function calls API Statistics Norway (SSB) returns pre-processed information.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"","code":"gather_change(type = \"kommune\", from = startYear , to = endYear)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"type string: \"kommune\" \"grunnkrets\" integer: Start year panel integer: End year panel","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"'data.frame' object, five columns , oldName, , newName, year - originating numeric identifier oldName - originating name adm. unit - new numeric identifier newName - new name adm. unit year - year, change enforced (01. January year)","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/gather_change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Panel of Changes to Administrative Identifiers — gather_change","text":"","code":"expl <- gather_change(type = \"kommune\", from = 1999, to = 2018) #> Error in loadNamespace(x): there is no package called ‘data.table’"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2018.html","id":null,"dir":"Reference","previous_headings":"","what":"Shape File Basic Statistical Units (BSU) of Norway (2018) — shp_bsu_2018","title":"Shape File Basic Statistical Units (BSU) of Norway (2018) — shp_bsu_2018","text":"data series Norwegian mapping authority, released 'GEONORGE'.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2018.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shape File Basic Statistical Units (BSU) of Norway (2018) — shp_bsu_2018","text":"","code":"shp_bsu_2018"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2018.html","id":"shp-bsu-","dir":"Reference","previous_headings":"","what":"shp_bsu_2018","title":"Shape File Basic Statistical Units (BSU) of Norway (2018) — shp_bsu_2018","text":"data frame 14'058 rows 3 columns: grunnkrets BSU Identifier (Harmonized) year Year geometry sfc_Polygon, spacial definition BSU's","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2018.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Shape File Basic Statistical Units (BSU) of Norway (2018) — shp_bsu_2018","text":"https://kartkatalog.geonorge./","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2021.html","id":null,"dir":"Reference","previous_headings":"","what":"Shape File Basic Statistical Units (BSU) of Norway (2021) — shp_bsu_2021","title":"Shape File Basic Statistical Units (BSU) of Norway (2021) — shp_bsu_2021","text":"data series Norwegian mapping authority, released 'GEONORGE'.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2021.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shape File Basic Statistical Units (BSU) of Norway (2021) — shp_bsu_2021","text":"","code":"shp_bsu_2021"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2021.html","id":"shp-bsu-","dir":"Reference","previous_headings":"","what":"shp_bsu_2021","title":"Shape File Basic Statistical Units (BSU) of Norway (2021) — shp_bsu_2021","text":"data frame 14'102 rows 3 columns: grunnkrets BSU Identifier (Harmonized) year Year geometry sfc_Polygon, spacial definition BSU's","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_bsu_2021.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Shape File Basic Statistical Units (BSU) of Norway (2021) — shp_bsu_2021","text":"https://kartkatalog.geonorge./","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2018.html","id":null,"dir":"Reference","previous_headings":"","what":"Shape File Municipalities of Norway (2018) — shp_mun_2018","title":"Shape File Municipalities of Norway (2018) — shp_mun_2018","text":"data series Norwegian mapping authority, released 'GEONORGE'.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2018.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shape File Municipalities of Norway (2018) — shp_mun_2018","text":"","code":"shp_mun_2018"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2018.html","id":"shp-mun-","dir":"Reference","previous_headings":"","what":"shp_mun_2018","title":"Shape File Municipalities of Norway (2018) — shp_mun_2018","text":"data frame 363 rows 3 columns: kommune Municipality Identifier (Harmonized) year Year geometry sfc_Polygon, spacial definition municipalities","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2018.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Shape File Municipalities of Norway (2018) — shp_mun_2018","text":"https://kartkatalog.geonorge./","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2021.html","id":null,"dir":"Reference","previous_headings":"","what":"Shape File Municipalities of Norway (2021) — shp_mun_2021","title":"Shape File Municipalities of Norway (2021) — shp_mun_2021","text":"data series Norwegian mapping authority, released 'GEONORGE'.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2021.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shape File Municipalities of Norway (2021) — shp_mun_2021","text":"","code":"shp_mun_2021"},{"path":[]},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2021.html","id":"shp-mun-","dir":"Reference","previous_headings":"","what":"shp_mun_2021","title":"Shape File Municipalities of Norway (2021) — shp_mun_2021","text":"data frame 363 rows 3 columns: kommune Municipality Identifier (Harmonized) year Year geometry sfc_Polygon, spacial definition municipalities","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/shp_mun_2021.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Shape File Municipalities of Norway (2021) — shp_mun_2021","text":"https://kartkatalog.geonorge./","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Panel of Valid Administrative Identifiers — status_quo","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"Returns data frame full panel years' valid administrative identifiers chosen unit-type time-period. function calls API Statistics Norway (SSB) returns pre-processed information.","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"","code":"status_quo(type = \"kommune\", from = startYear , to = endYear)"},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"type string: \"kommune\" \"grunnkrets\" integer: Start year panel integer: End year panel","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"'data.frame' object, four columns geoID, name, , geoID - current numeric identifier name - current name adm. unit - startYear validity (always year year) - endYear","code":""},{"path":"https://laurincurschellas.github.io/NGeoTrack/reference/status_quo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Panel of Valid Administrative Identifiers — status_quo","text":"","code":"expl <- status_quo(type = \"kommune\", from = 1999, to = 2018) #> Error in loadNamespace(x): there is no package called ‘data.table’"}]
